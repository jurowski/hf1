
	

--------------------- :::TODO::: ----------------------------


:::CURRENT::: 




-------------------------------------------------------------------
ROWLEY 52M
-------------------------------------------------------------------

hosting js files
--add existing js files to a spot on hf server
--let Ben Cope know the location of those js files
--let ?Andrew? server guy know the location to cache of those files
--ask Andrew not to cache those files until Thanksgiving

let user choose their state, province, or country
--see the country pulldown w/ icons (was it in metronic?)
--make state/provice pulldowns

mod the tracking system to allow for weight tracking
--add an "initial value" (ie start weight)
--make sure there's a "current value"

add a 52M templated goal that has a weight tracker
--it will be one goal (not 50+ goals)
--it can be placed on hold but not deleted (so that calculating per-state daily is not thrown off)

add a class: weight_loss_by_state
state_name_abb:string ### abbreviated
state_name:string
demog_population:integer
demog_percent_adults:integer
demog_number_adults:integer
demog_percent_obesity_rate:integer
demog_number_obese_adults:integer
demog_percent_of_total_obese_adults_in_challenge:integer
challenge_weighted_goal:integer
challenge_qty_hold:integer
challenge_qty_active:integer
challenge_lbs_starting_weight_hold:integer
challenge_lbs_starting_weight_active:integer
challenge_lbs_last_weight_hold:integer
challenge_lbs_last_weight_active:integer
challenge_lbs_lost_hold:integer
challenge_lbs_lost_active:integer
challenge_lbs_lost_total:integer
challenge_percent_of_goal_met:integer
challenge_number_rank:integer
challenge_last_updated_date:date

cron daily tabulate per-state statistics
--for each state, find users in that state who are in that challenge
--determine if they are active or hold, and tabulate their data accordingly
--update the js files accordingly


cron every 5 min pull from rowley mailing list groups
--auto-sign people up to hf
--auto-assign their country and state based on params
--send them conf. email
--add them to a templated rowley weight tracking goal








-------------------------------------------------------------------
GRAPHIC REDESIGN and NEW SIGNUP PUT ON HOLD UNTIL ROWLEY 52M is done
-------------------------------------------------------------------

SIGNUP FROM HOMEPAGE PRICING GRID
if someone clicks on a pricing link from the home page
  jump to the signup box
  make visible a div with text asking them to sign up and we'll get started
  mod a hidden form input value indicating monthly vs. yearly vs. lifetime vs. free
  in the quick_signup controller action, if that form value is not "free" then redirect to ETR for payment
  (for now, don't mod that page ... once in production, ask Mark to auto-choose which value was chosen on the $ page)


...Everything Else on Garnett's list



-------------------------------------------------------------------
TRACKER STUFF BEING PUT ON HOLD UNTIL GRAPHICS RE-DESIGN IS DONE
-------------------------------------------------------------------
Quant answers:
-- ask for the number and/or the yes/no depending on their tracker linkage choices

Logic needed for 3 Cases:
--quant is not linked to checkpiont yes/no at all
--quant being answered sets checkpoint to yes
--quant value determins checkpoint being set to yes/no

We'll test out two cases at first, both of which would have a max :
--one that occasionally measures something that "is" (weight)
--one that daily measures something that you achieve daily (sleep)


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!VERY NEXT !!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
--allow user to modify date and hour for a quant (in case they're answering for the day before or for earlier in the day)
(Meridian Format date/time picker): file:///home/sgj700/Downloads/metronic_v1.2.4/template_content/form_component.html#
USE THE MINIFY FORMAT


THE LOGIC
In the tracker goal tab
  	which shows a graph
  	and
    asks you to add a new value
      which will add to the day's total if it's one that accumulates
      or
      which will add to the day's average if it's one that measures "what is" like weight or temperature
    or 
    asks you to increment the last value if it's a goal that accumulates
    
when a new answer is entered
if tracker answer kicks checkpoint to yes
  then set that day to "yes"
if tracker answer sets checkpoint to yes or no based on value
  then take that day's total (if accumulation) or average (if "measuring what is") and kick checkpoint to yes or no

when you get the daily yes/no email,
and
when you get the daily reminder email,
have a link in the email asking you for a measurment
clicking that link takes you to the "tracker" goal tab


NEXT/NOW/CURRENT: 


!!! for templated weight loss, as their current weight to auto-fill in the ranges


-- WEDNESDAYS ONLY: not sure if weekly_report_of_goals_i_follow is working w/out fail




-------------------- :::FUTURE::: -------------------------------

--fitbit integration for a step tracker and sleep tracker


--when someone accepts a team invitation and joins that team, a message needs to go out to every member of the team, and it should prompt each member to send a welcome message to that new team member

--email team members when someone leaves the team

--someone who already has a goal needs to be able to join it to a team if a matching invitation exists



(for admin user only for now... eventually enable for everyone but only once we have a searchable library that would make it relevant for others to find)
1. make a button in the normal "goals" view that checks if the goal is already part of a template... and if it's not, enable a button that would kick off copy_goal_to_template_and_make_template_parent



-- email the team when someone is slacking a lot and might be removed because of it

modify team:new and team:edit forms so that only relevant fields are shown to owners
change rights on team controller methods so that no one but admin and team owner can edit or delete a team
do not let owner change a team "type" from category to goal-specific once it is created (force delete instead)



[ ]  let me craft an invite that has a link to start my goal (and if I have chosen category-level vs. goal-level, a link to start a custom or click from an array of templated goals in the same category)

[ ]  let my invite go to multiple email addresses separated by commas

[ ]  (teamgoals) do not kick people off of my custom team for not checking in

[ ]  allow me to transfer ownership to another member of the team
[ ]  notify every team member when a new member arrives
[ ]  notify every team member when a member leaves
[ ]  let me email the whole team
[ ]  when emailing one team member ask me to consider including each of the others

[ ]  when an invitee logs in, have an "invites" link at the top showing a red number and a listing of invites to review

[ ]  allow an invitee to silently ignore an invite (do not email me)
[ ]  allow an invitee to decline an invite (email me)
[ ]  keep reminding an invitee for a while until they take action

[ ]  later: team chat board
[ ]  later: weekly meeting for those who cited weekly meeting availability windows that match (you must attend 2/3 of the meetings over a 3 month period) ... meetings can be in a google hangout URL or in the built-in chat board
[ ]  later: nightly report option of "what went well today" and "what can i improve upon for tomorrow"

[ ]  later: add an icon/mascot/avatar for our team)
[ ]  later: add a "fade or not" photo mosaic linked to each team member's last 7 days ... one row per person)






--Display badges for those with 100+ 200+ ... etc. impact points

--Telling a long-standing goal to display all checkpoints takes forever... do some paging for this (ex: prod kaybing http://habitforge.com/goals/single/40822)



problem: if a cron job dies i am not aware
solution: look @ the latest cron job ... implement the same (it has a notify gmail that a script died)


future: put a silver or gold badge next to names on dynamic (and in their account) for impact point levels

future: make an option for showing in dynamic only those goals in your categories

future: program creation like the UWHealth "holiday don't gain"


-------------------- :::DONE::: -------------------------------

problem: people are starting to ask to cash in support points more than once
solution: 
add a new user field that indicates that they've cashed one in already
modify the admin interface to indicate this and to not allow the single-press button


