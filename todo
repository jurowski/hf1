
	

--------------------- :::TODO::: ----------------------------


:::CURRENT::: 

--------
GENERAL
--------

do the rest of Jeff's recent requests:
-- (done) change reminder default to none
-- make "green" the habits in the listing area
-- open up the customization by default (see email for detail)
-- see emails from him and Garnett for the rest




make this (already applied in prod. db) respected in the UI:

    add_column :users, :premium_only_complete_privacy, :boolean

change the "hide_feed" for those who actually do want to see the feed by default



-----------
ESFL
-----------

--Have John's photo as asking the daily question on the templated ESFL ones.

--At the point of adding the first (generic) habit, actually give them the choice of choosing from a pulldown of a list of empowering habits (not the disempowering habits).

--There is one link only, used in the book: http://habitforge.com/esfl

--Do not auto-create their account when they sign up for ESFL ... wait until they click the ESFL link

--Landing Page: "So, one general landing place inside HF for buyers who click the link. Then a dropdown of the Empowering Habits they saw listed in the book (Empowering only, not Destructive)" --Kevin Rogers



--------------------------------------
users, friends, groups, organizations
--------------------------------------

as a user
i want to be able to build a list of friends to interact with
i want to be able to join a group
maybe that group is part of an organization or maybe it is not
if i am sending out an invitation to be part of my team, 
  i want to be able to choose from my list of friends
when i am part of a group
  i want to be able to view all of the users in that group



user_friends
  user_id
  friend_id

user_enemies ### those you want to block
  user_id
  enemy_id

user_groups
  user_id
  group_id

groups
  name
  description
  organization_id

group_admins
  group_id
  user_id

group_members
  group_id
  user_id

group_goaltemplates
  group_id
  goaltemplate_id

group_programs
  group_id
  program_id


















-------------------------------------------------------------------
ROWLEY 52M
-------------------------------------------------------------------


------------
NEXT
------------ 



--map:(set color based on % reached threshold)

--after N days, include in the check-in and reminders that It's Time to get a Quant

--graph user-level tracker results for weight


----------------
!!! since we already have in mind a handful of "templates" for trackers, might as well reduce confusion for people and ask them to choose one of those first and hide the implementation details for now

!!! for templated weight loss, ask their current weight to auto-fill in the ranges



Quant answers:
-- ask for the number and/or the yes/no depending on their tracker linkage choices

Logic needed for 3 Cases:
--quant is not linked to checkpiont yes/no at all
--quant being answered sets checkpoint to yes
--quant value determins checkpoint being set to yes/no

We'll test out two cases at first, both of which would have a max :
--one that occasionally measures something that "is" (weight)
--one that daily measures something that you achieve daily (sleep)




THE LOGIC
In the tracker goal tab
    which shows a graph
    and
    asks you to add a new value
      which will add to the day's total if it's one that accumulates
      or
      which will add to the day's average if it's one that measures "what is" like weight or temperature
    or 
    asks you to increment the last value if it's a goal that accumulates
    
when a new answer is entered
if tracker answer kicks checkpoint to yes
  then set that day to "yes"
if tracker answer sets checkpoint to yes or no based on value
  then take that day's total (if accumulation) or average (if "measuring what is") and kick checkpoint to yes or no

when you get the daily yes/no email,
and
when you get the daily reminder email,
have a link in the email asking you for a measurment
clicking that link takes you to the "tracker" goal tab
and also after you answer your yes/no,  ask if they want to enter a tracker value as well





--------------
FUTURE
--------------


There will be a "program" ... a 52M program
--the program will have at least 2 "action items" to it
--half of the people will be signed up for the "exercise" component ... with a weight tracker enabled
--half of the people will be signed up for the "healthy diet" component ... with a weight tracker enabled
--the weight-traacker goal can be placed on hold but not deleted (so that calculating per-state daily is not thrown off)
--each will be asked now and then to join the others in their state who are signed up for the other component
--if they sign up for the 2nd component, the weight tracker will be disabled on any but the first component








--------------
DONE
--------------
hosting js files
--add existing js files to a spot on hf server
--let Ben Cope and Stephan know the location of those js files


let user choose their state, province, or country
--state full name
--country name
--pulldown for state / province
--pulldown for country


add a class: weight_loss_by_state
state:string
state_code:string ### abbreviated
demog_population:integer
demog_percent_adults:integer
demog_number_adults:integer
demog_percent_obesity_rate:integer
demog_number_obese_adults:integer
demog_percent_of_total_obese_adults_in_challenge:integer
challenge_weighted_goal:integer challenge_qty_hold:integer challenge_qty_active:integer challenge_lbs_starting_weight_hold:integer challenge_lbs_starting_weight_active:integer challenge_lbs_last_weight_hold:integer challenge_lbs_last_weight_active:integer challenge_lbs_lost_hold:integer challenge_lbs_lost_active:integer challenge_lbs_lost_total:integer challenge_percent_of_goal_met:integer challenge_number_rank:integer challenge_last_updated_date:date js_upcolor:string js_overcolor:string js_downcolor:string

--protect the weight_loss_by_state files

--method to drop and seed the weight_loss_by_state


--allow user to modify date and hour for a quant (in case they're answering for the day before or for earlier in the day)
(Meridian Format date/time picker): file:///home/sgj700/Downloads/metronic_v1.2.4/template_content/form_component.html#
USE THE MINIFY FORMAT





-------------------------------------------------------------------
GRAPHIC REDESIGN and NEW SIGNUP PUT ON HOLD UNTIL ROWLEY 52M is done
-------------------------------------------------------------------

-----------------
FB and Google Login
-----------------

BE ABLE TO LOG OUT OF  GOOGLE OR FB !!!! (not working right now)

-- NEXT --
Deal w/ the form variables as "sessions" instead of just "params" so that those invited to join for certain goals/teams don't lose that info when re-directed
(likely doesn't work for FB, and I know it doesn't work for Google)

-- LATER ON --
ALLOW USER TO LOG OUT WHILE FB IS STILL LOGGED IN ELSEWHERE
--currently it logs them back in right away
LINK FB ACCOUNT
--if current_user and HF.fb_id = nil, show Link FB button (if/once fb_current_user, update user's HF.fb_id and HF.fb_* )
UNLINK FB ACCOUNT
--if current_user and HF.fb_id != nil, show UnLink FB button (to set HF.fb_id = nil and other HF.fb_* = nil)







-------------------- :::FUTURE::: -------------------------------

-- WEDNESDAYS ONLY: not sure if weekly_report_of_goals_i_follow is working w/out fail

--fitbit integration for a step tracker and sleep tracker


--when someone accepts a team invitation and joins that team, a message needs to go out to every member of the team, and it should prompt each member to send a welcome message to that new team member

--email team members when someone leaves the team

--someone who already has a goal needs to be able to join it to a team if a matching invitation exists



(for admin user only for now... eventually enable for everyone but only once we have a searchable library that would make it relevant for others to find)
1. make a button in the normal "goals" view that checks if the goal is already part of a template... and if it's not, enable a button that would kick off copy_goal_to_template_and_make_template_parent



-- email the team when someone is slacking a lot and might be removed because of it

modify team:new and team:edit forms so that only relevant fields are shown to owners
change rights on team controller methods so that no one but admin and team owner can edit or delete a team
do not let owner change a team "type" from category to goal-specific once it is created (force delete instead)



[ ]  let me craft an invite that has a link to start my goal (and if I have chosen category-level vs. goal-level, a link to start a custom or click from an array of templated goals in the same category)

[ ]  let my invite go to multiple email addresses separated by commas

[ ]  (teamgoals) do not kick people off of my custom team for not checking in

[ ]  allow me to transfer ownership to another member of the team
[ ]  notify every team member when a new member arrives
[ ]  notify every team member when a member leaves
[ ]  let me email the whole team
[ ]  when emailing one team member ask me to consider including each of the others

[ ]  when an invitee logs in, have an "invites" link at the top showing a red number and a listing of invites to review

[ ]  allow an invitee to silently ignore an invite (do not email me)
[ ]  allow an invitee to decline an invite (email me)
[ ]  keep reminding an invitee for a while until they take action

[ ]  later: team chat board
[ ]  later: weekly meeting for those who cited weekly meeting availability windows that match (you must attend 2/3 of the meetings over a 3 month period) ... meetings can be in a google hangout URL or in the built-in chat board
[ ]  later: nightly report option of "what went well today" and "what can i improve upon for tomorrow"

[ ]  later: add an icon/mascot/avatar for our team)
[ ]  later: add a "fade or not" photo mosaic linked to each team member's last 7 days ... one row per person)






--Display badges for those with 100+ 200+ ... etc. impact points

--Telling a long-standing goal to display all checkpoints takes forever... do some paging for this (ex: prod kaybing http://habitforge.com/goals/single/40822)



problem: if a cron job dies i am not aware
solution: look @ the latest cron job ... implement the same (it has a notify gmail that a script died)


future: put a silver or gold badge next to names on dynamic (and in their account) for impact point levels

future: make an option for showing in dynamic only those goals in your categories

future: program creation like the UWHealth "holiday don't gain"


-------------------- :::DONE::: -------------------------------

problem: people are starting to ask to cash in support points more than once
solution: 
add a new user field that indicates that they've cashed one in already
modify the admin interface to indicate this and to not allow the single-press button


